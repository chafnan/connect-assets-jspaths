{"note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Connect-assets-jspaths","tagline":"An NPM module for outputting your connect-assets javascript assets.  Useful for working with requireJS.","google":"","body":"connect-assets-jspaths\r\n======================\r\n\r\nAn NPM module for outputting your [connect-assets](https://github.com/TrevorBurnham/connect-assets) javascript assets.  Useful for working with requireJS.\r\n\r\n### Problems This Helps With\r\n\r\n- You're using [requireJS](http://requirejs.org) and need to update the location of your modules after they have become minified and hashed.\r\n- You're using [requireJS](http://requirejs.org) and need to get the url of a particular file to add as the `data-main` attribute of your script reference.\r\n\r\n### Installation\r\n\r\n`npm install connect-assets-jspaths`\r\n\r\n* Note, there is a dependency on CoffeeScript.\r\n\r\n### Server Side Usage\r\n\r\n    assets = require \"connect-assets\"\r\n    jsPaths = require \"connect-assets-jspaths\"\r\n    \r\n    # Snip ...\r\n    \r\n    app.use assets()\r\n    # Exports the global function exportPaths() and jsUrl(); see below in View Helpers.\r\n    jsPaths assets\r\n    \r\n    # Optionally, pass a log function to see progress\r\n    # jsPaths assets, console.log\r\n\r\n### View Usage\r\n\r\nThis module exports two global functions `exportPaths()` and `jsUrl()`.\r\n\r\n    // Using this in your view\r\n    != exportPaths(\"jsPaths\")\r\n\r\n    // Turns into this when rendered in production\r\n    <script type=\"text/javascript\">\r\n        var jsPaths = { \"main\", \"/builtAssets/js/main.13819282742.js\" /* snip all the other file paths */ };\r\n    </script>\r\n\r\n    \r\n    // Using this in your view\r\n    - var mainJsPath = jsUrl(\"/js/main.js\")\r\n    script(type=\"text/javascript\", data-main=\"#{mainJsPath}\", src=\"//cdnjs.cloudflare.com/ajax/libs/require.js/2.0.2/require.min.js\")    \r\n    \r\n    // Turns into this when rendered in production\r\n    <script type=\"text/javascript\" data-main=\"/builtAssets/js/main.13819282742.js\" src=\"//cdnjs.cloudflare.com/ajax/libs/require.js/2.0.2/require.min.js\"></script>\r\n\r\n### Dynamic RequireJS Paths\r\n\r\nNow that we have a variable with our requireJS friendly paths in it, we can set those paths in the RequireJS config\r\n\r\n    # Example main.coffee file in /assets/js folder\r\n    \r\n    requirePaths =\r\n      paths:\r\n        jquery: \"//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min\"\r\n        underscore: \"//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min\"\r\n        backbone: \"//cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min\"\r\n        text: \"/js/lib/text\"\r\n        handlebars: \"/js/lib/handlebars\"\r\n        \r\n    if jsPaths\r\n      for own key, value of jsPaths\r\n        # Fix up the lib references\r\n        key = key.slice 4 if key.slice(0, 4) == \"lib/\"\r\n        requirePaths.paths[key] = value \r\n    \r\n    require.config\r\n      paths: requirePaths.paths\r\n    \r\n      shim:\r\n        jquery:\r\n          exports: \"$\"\r\n        underscore:\r\n          exports: \"_\"\r\n        backbone:\r\n          deps: [\"underscore\", \"jquery\"]\r\n          exports: \"Backbone\"\r\n        \r\n    require ['app'], (App) ->\r\n        new App().initialize()\r\n\r\n### Copyright\r\n\r\nCreated by [Jacob Gable](http://jacobgable.com).  MIT License; no attribution required.\r\n"}